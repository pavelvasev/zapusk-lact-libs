####### params
dayskeep=32
list= 
# {{chroot_dir}}/var/log/*.log
postrotate=
conf="
# generated by logrotate.zdb
{{list}} {
        su root root
        rotate {{dayskeep}}
        daily
        dateext
        missingok
        notifempty
        compress
        copytruncate
        sharedscripts # only run the postrotate script once
        postrotate
          {{postrotate}}
        endscript
}
"
confpath=/etc/logrotate.d/{{global_name}}
# reason to specify rotate command: without it, logrotate keep just 4 files, for example

####### configure
[info]
apply=Writing logrotate config: {{confpath}}
destroy=Removing logrotate config: {{confpath}}

[file]
path={{confpath}}
content={{conf}}

####### rotate-logs-command
[info]
rotate-logs=Rotating logs according to config: {{confpath}}
[os]
rotate-logs=logrotate --force {{confpath}}
